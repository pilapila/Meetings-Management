<br>
<div ng-hide="signedIn()" class="center">
  <h3>Sorry</h3>
  <p>Only registered users can create and manage meetings.</p>
  <p>Please <a ng-href="#/register">Register</a> or <a ng-href="#/login">Login</a></p>
</div>

<div ng-show="signedIn()" ng-controller="CheckinsController">

<h5>Checkins and invitees</h5>
<p style="margin-top:-10px;color:#999">you can invite whomever you want</p>



<div class="row">
  <div class="col s12">
    <span class="flow-text">
      <nav class="sidenav-title1" style="background-color:#26a69a !important">
        <div class="nav-wrapper">

            <nav class="sidenav-title1" style="background-color:#26a69a !important">
              <div class="nav-wrapper">

                <nav class="search right right z-depth-0" 
                  style="height:35px;background-color:#26a69a;margin-top:3px;margin-right:3px;width:200px;">
                    <div class="nav-wrapper">
                      <form>
                        <div class="input-field">
                          <input type="search" ng-model="query" placeholder="search your term">
                          <label for="search">
                            <i class="material-icons" style="font-size:24px;">search</i>
                          </label>
                            <i class="material-icons" style="font-size:15px;" ng-click="query = ''">close</i>
                        </div>
                      </form>
                    </div>
                </nav>

                <a href="#" data-activates="slide-out" class="button-collapse">
                  <i class="material-icons" style="margin-top:3px">menu</i>
                </a>
                <ul class="left hide-on-med-and-down">
                  <li class="sidenav-li" style="margin-top:-3px">
                    <a class="modal-trigger waves-effect waves-light" 
                       data-target="modal1" ng-click="queryCheck = ''">
                      <i class="fa fa-user-plus" aria-hidden="true"></i>
                      &nbsp Invite User
                    </a>
                  </li>
                  <li class="sidenav-li" style="margin-top:-3px">
                    <a class="modal-trigger waves-effect waves-light" 
                       data-target="modal2">
                      <i class="fa fa-bars" aria-hidden="true"></i>
                      &nbsp Meeting Details
                    </a>
                  </li>
                  <li class="sidenav-li" style="margin-top:-3px">
                    <a ng-href="#/meetings" class="waves-effect waves-light">
                      <i class="fa fa-chevron-left" aria-hidden="true"></i>
                      &nbsp Back to Meetings
                    </a>
                  </li>
                  <li class="sidenav-li" style="margin-top:-3px" ng-show="isThereOne">
                    <a class="waves-effect waves-light" ng-click="deleteAllCheckin()">
                      <i class="fa fa-minus-circle" aria-hidden="true"></i>
                      &nbsp Delete All Invitees
                    </a>
                  </li>
                </ul>
<!-- -------------------------------Phone view -------------------------------- -->
                <ul id="slide-out" class="side-nav">
                  <li class="sidenav-li" style="margin-top:-2px">
                    <a class="modal-trigger waves-effect waves-light" 
                       data-target="modal1">
                      <i class="fa fa-plus" aria-hidden="true"></i>
                      &nbsp Add Checkin
                    </a>
                  </li>
                  <li class="sidenav-li">
                    <a ng-href="" class="waves-effect waves-light">
                      <i class="fa fa-bars" aria-hidden="true"></i>
                      &nbsp Meeting Details
                    </a>
                  </li>
                  <li class="sidenav-li">
                    <a ng-href="#/meetings" class="waves-effect waves-light">
                      <i class="fa fa-chevron-left" aria-hidden="true"></i>
                      &nbsp Back to Meetings
                    </a>
                  </li>
                </ul>
              </div>
            </nav>

        </div>
      </nav>
    </span>
  </div>
</div>


<div class="col s12" style="margin-top:-10px">
  <div class="card horizontal">
    <div class="card-stacked">

      <div class="card-content">
        <div style="margin-top:-5px">
          <b>{{ meetingChecked.name }}</b>
        </div>
        <b class="right" style="color:#{{whichcolor}};margin-top:-20px">
          <div style="margin-top:2px;">
          <i ng-show="icon1" class="fa fa-check animated bounce delayAnimate" 
             aria-hidden="true"></i>
          <i ng-show="icon2" class="fa fa-bell-o animated shake delayAnimate" 
             aria-hidden="true"></i>
          <i ng-show="icon3" class="fa fa-times animated flash delayAnimate" 
             aria-hidden="true"></i>
          </div>
          <div style="margin-top:-17px;margin-left:12px">
            &nbsp&nbsp {{ meetingChecked.dateMeeting | date }}
          </div>
        </b>
      </div>
      <div class="card-action center" ng-hide="isThereOne">
        <p class="center" style="color:#b5b5b5;font-size:1.1em">Add users to your meeting...</p>
      </div>
      <div class="card-action" style="color: #6d6d6d" ng-show="isThereOne">

        <ul class="userlist cf" style="margin-left:5px">
          <li ng-repeat="checked in checkedList | filter:query"
              ng-class="checked.userState" class="delayAnimate">
            <div class="checkin">

                <div class="col s12 m7">
                  <div class="card horizontal">
                    <div class="card-image">
                      <img style="border-top-left-radius:12px;border-bottom-left-radius:12px;width:80px;max-width:80px;" 
                       src="images/personal_pics/{{checked.image}}.jpg">
                    </div>
                    <div class="card-stacked">

                      <div class="card-content">
                        <b style="font-size:1em">
                          {{ checked.firstname | capitalize }} {{ checked.lastname | capitalize }}
                        </b>
                        <div class="date">{{ checked.date | date }}</div>
                      </div>

                      <div class="card-action">
                        <a href="" ng-click="addDescription()" 
                           style="margin-right:-8px;">
                            <span class="fa-stack fa-lg" style="margin-top:2px">
                              <i class="fa fa-square-o fa-stack-2x" 
                                 style="color:#bcebf8;"></i>
                              <i class="fa fa-plus fa-stack-1x" 
                                 style="font-size:18px;color:#19a7ce;"></i>
                              <md-tooltip md-direction="top">
                                DESCRIPTION
                              </md-tooltip>
                            </span>
                        </a>

                        <a href="" id="editLink" style="margin-right:-8px"
                             ng-click="showEditCheckin($event, currentUser.regUser, checked.$id)">
                            <span class="fa-stack fa-lg" style="margin-top:2px">
                              <i class="fa fa-square-o fa-stack-2x" 
                                 style="color:#c7ebb7;"></i>
                              <i class="fa fa-paper-plane-o fa-stack-1x" 
                                 style="font-size:18px;color:#65b13b;margin-top:-1px;margin-left:-1px"></i>
                              <md-tooltip md-direction="top">
                                SEND INVITATION
                              </md-tooltip>
                            </span>
                        </a> 

                        <a class="fontawesome-color" href=""
                             ng-click="deleteCheckin($event, checked.$id, checked.firstname, checked.lastname)">
                            <span class="fa-stack fa-lg" style="margin-top:2px">
                              <i class="fa fa-square-o fa-stack-2x" 
                                 style="color:#eaa8be;"></i>
                              <i class="fa fa-trash-o fa-stack-1x" 
                                 style="font-size:20px;color:#d44977;"></i>
                              <md-tooltip md-direction="top">
                                DELETE INVITATION
                              </md-tooltip>
                            </span>
                        </a>

                        <a class="fontawesome-color right right" href=""
                             ng-click="deleteCheckin($event, checked.$id, checked.firstname)">
                            <span class="fa-stack fa-lg" 
                                  style="margin-top:2px;margin-right:-15px">
                              <i class="fa fa-check fa-stack-1x" 
                                 style="font-size:20px;color:#39ac00;"></i>
                              <md-tooltip md-direction="top">
                                SENDED
                              </md-tooltip>
                            </span>
                        </a>

                      </div>
                    </div>
                  </div>
                </div>

              <!-- <div class="buttons">
                
                <a href="" ng-click="addDescription()" style="margin-right:-8px;">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square-o fa-stack-2x" 
                         style="color:#bcebf8;"></i>
                      <i class="fa fa-plus fa-stack-1x" 
                         style="font-size:18px;color:#19a7ce;"></i>
                      <md-tooltip md-direction="top">
                        DESCRIPTION
                      </md-tooltip>
                    </span>
                </a>

                <a href="" id="editLink" style="margin-right:-8px"
                     ng-click="showEditCheckin($event, currentUser.regUser, checked.$id)">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square-o fa-stack-2x" 
                         style="color:#c7ebb7;"></i>
                      <i class="fa fa-paper-plane-o fa-stack-1x" 
                         style="font-size:18px;color:#65b13b;margin-top:-1px;margin-left:-1px"></i>
                      <md-tooltip md-direction="top">
                        SEND INVITATION
                      </md-tooltip>
                    </span>
                </a> 

                <a class="fontawesome-color" href=""
                     ng-click="deleteCheckin($event, checked.$id, checked.firstname)">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square-o fa-stack-2x" 
                         style="color:#eaa8be;"></i>
                      <i class="fa fa-trash-o fa-stack-1x" 
                         style="font-size:20px;color:#d44977;"></i>
                      <md-tooltip md-direction="top">
                        DELETE INVITATION
                      </md-tooltip>
                    </span>
                </a>

              </div>

              <div class="info">
                <b style="font-size:1em">
                  {{ checked.firstname | capitalize }} {{ checked.lastname | capitalize }}
                </b>
                <div class="date">{{ checked.date | date }}</div>
              </div> -->

              <!-- <div>
                  <form class="cf" ng-submit="giveLove(checked, checked.giftText)" novalidate>
                     <input type="text" name="giftText" ng-required="true" 
                            ng-model="checked.giftText" placeholder="What are you giving them?">
                     <a href="" class="waves-green" type="submit" 
                             ng-disabled="myform.$invalid">Add
                     </a>
                  </form>
                  

                  <ul class="awardslist cf">
                    <li class="cf" ng-repeat="(key, award) in checked.awards">
                       <div class="award">{{award.name}}
                          <a class="btn btn-delete tooltip" 
                             ng-click="showConfirmLove($event, checked.$id, key)">
                            <span>Delete this love</span>
                          </a>
                       </div>
                    </li>
                  </ul>
              </div> -->

            </div>
          </li>
        </ul>

      </div>

      <div class="card-action">
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
      </div>

    </div>
  </div>
</div>



<!-- Modal Structure -->
<form ng-submit="addCheckin()">
<div id="modal1" class="modal modal-fixed-footer" 
   style="border-radius:12px;max-width:550px;max-height:400px;">

  <md-toolbar>
    <div class="md-toolbar-tools checkinUser" style="background-color:#26a69a;height:80px">
        <h2>Checkin your invitees</h2>
        <span flex></span>
        <nav class="search left left z-depth-0" 
             style="height:20px;max-height:20px;margin-right:0px;width:220px;
                    margin-top:-15px;background-color:#26a69a">
          <div class="nav-wrapper">
            <form>
              <div class="input-field">
                <input type="search" ng-model="queryCheck" id="queryCheck" 
                       placeholder="search your invitee">
                <label for="search">
                  <i class="material-icons" style="font-size:24px;">search</i>
                </label>
                  <i class="material-icons" style="font-size:15px;" ng-click="queryCheck = ''">
                    close
                  </i>
              </div>
            </form>
          </div>
        </nav>
    </div>
  </md-toolbar>

  <div class="modal-content">

    <div style="margin-bottom:-12px">
      <!-- <div class="row" style="margin-bottom:-12px"> -->
        <div class="col s12" style="margin-bottom:-12px"
             ng-repeat="(key, user) in usersShort | filter:queryCheck" 
             class="user" 
             id="{{user.regUser}}">

          <div class="col s5">
            <input type="checkbox" class="filled-in"
                   ng-change="sync(bool, user)" 
                   ng-model="bool" 
                   ng-checked="isChecked(user.regUser)" 
                   id="{{$index}}" />
            <label for="{{$index}}">
              {{user.firstname | capitalize }} {{user.lastname | capitalize }}
            </label>
          </div>

          <div class="col s7">
            <input id="description{{$index+1}}" type="text" 
                   ng-readonly="!bool"
                   placeholder="description" style="margin-top:-11px"
                   ng-model="description">
            
          </div>
        </div>
      <!-- </div> -->
    </div>
  </div>

  <div class="modal-footer">
    <button ng-click="clearData()" 
            class="modal-action modal-close waves-effect waves-green btn-flat"> 
      Cancel
    </button>
    <button type="submit" class="modal-action modal-close waves-effect waves-green btn-flat"> 
      Agree
    </button>
  </div>

</div>
</form>


<div id="modal2" class="modal modal-fixed-footer" 
   style="border-radius:12px;max-width:450px;max-height:350px;">
  <md-toolbar>
      <div class="md-toolbar-tools" style="background-color:#26a69a">
        <h2>Meeting Details</h2>
        <span flex></span>
        <a class="modal-action modal-close waves-effect waves-green">
          <i class="fa fa-times" aria-hidden="true"></i>
        </a>
      </div>
    </md-toolbar>

  <div class="modal-content">

      <div class="row">
        <div class="col s12">

          
          <p>
            <i class="fa fa-users" aria-hidden="true"></i>
            <b>Name: </b>{{ meetingChecked.name }}
          </p>

          <p style="font-size:0.9rem;margin-top:-10px;color:#2ea6c8">
            <i class="fa fa-clock-o fa-lg" aria-hidden="true"></i>            
            <b>Time: {{ meetingChecked.time | limitTo:5 }}</b>
          </p>
          
          <p style="font-size:0.9rem;color:#747474">

            {{ meetingChecked.description }}
          </p>
          <p style="margin-top:-10px;color:#2ea6c8">
            <i class="fa fa-calendar-o" aria-hidden="true"></i> 
            <b>Date: {{ meetingChecked.dateMeeting | date }}</b>
          </p>

        </div>
      </div>
    </div>

  <div class="modal-footer">
    <button class="modal-action modal-close waves-effect waves-green btn-flat"> 
      Ok
    </button>
  </div>

</div>



</div> <!-- ng-show="signIn()" -->
</div> <!-- End of html -->


<script type="text/javascript">
  $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
  });
</script>